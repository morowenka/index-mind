# **План разработки**

---

## **Спринт 1: Базовая инфраструктура + первое Mac-приложение (ClickHouse + FAISS + Haystack)**

**Основной фокус**:  
Индексация текстов, создание базовой инфраструктуры. Формируем первый рабочий прототип для Mac, фокус на **интеграцию с ClickHouse и FAISS** для текстовых данных.

**Цели:**

- Создать **простое Mac-приложение** с интерфейсом для индексации и поиска.
- Интегрировать **FAISS для эмбеддингов** текста и **ClickHouse для хранения метаданных**.
- Настроить модульную архитектуру для разных типов данных (документы, изображения, и т.д.).
- Разработать базовый **Python-бэкэнд** для обработки документов.

**Задачи:**

1. **Настройка проекта:**
   - Создать виртуальное окружение и установить зависимости (Haystack, FAISS, ClickHouse).
   - Разработать модульную структуру проекта (для будущего добавления новых типов данных).

2. **Создание приложения для Mac:**
   - Разработать базовый UI с кнопками для запуска индексации, поиска и отображения результатов.
   - Интегрировать UI с Python-бэкэндом.

3. **Индексация текстов:**
   - Реализовать модуль для работы с текстами: создание эмбеддингов с помощью Hugging Face, сохранение в FAISS и ClickHouse.

4. **Тестовый пайплайн:**
   - Поднять полный индексно-поисковый пайплайн на тестовых данных (документы).

**Результат:**

- Простой рабочий прототип Mac-приложения с интеграцией в фоне на Python для работы с текстами.
- Работающая индексация и поиск по текстовым документам через FAISS и ClickHouse.

---

## **Спринт 2: Улучшение UI, автоматизация индексации + инкрементальные индексы**

**Основной фокус**:  
Добавление возможностей ручного обновления индексов и начала автоматизации (например, перед выключением). Улучшение работы с текстами и модульной структуры.

**Цели:**

- Обеспечить улучшенный способ управления индексами через UI.
- Реализовать **ручное и автоматическое обновление индексов**.
- Поддержка инкрементальной индексации документов.

**Задачи:**

1. **UI для ручного обновления индексов:**
   - Добавить кнопки и индикаторы процесса обновления индексов в интерфейс.

2. **Автоматическая индексация перед завершением работы системы:**
   - Реализовать автоматическое обновление индексов через MacOS-хуки (например, перед завершением работы).

3. **Улучшение поиск по текстам:**
   - Поддержать расширенную функциональность поиска (инкрементальная индексация, сохранение метаданных).

**Результат:**

- Приложение поддерживает ручное и автоматическое обновление индексов через UI.
- Улучшенная работа с документами (инкрементальная индексация).

---

## **Спринт 3: Индексация постов из Telegram-каналов + расширенные API и взаимодействие с внешними системами (телеграм-бот)**

**Основной фокус**:
Добавляем **индексацию постов из Telegram-каналов**, REST API и начальную интеграцию с Telegram-ботом.

**Цели:**

- Добавить индексацию **Telegram-постов** с ключевыми метаданными.
- Создать **REST API** для удаленной работы с индексами и поиска.
- Запустить Telegram-бота для взаимодействия с индексацией через бот.

**Задачи:**

1. **Интеграция с Telegram API (для постов из каналов):**
   - Подключить API Telegram для извлечения и индексации постов.
   - Сохранять метаинформацию постов (ссылки на канал, дату поста и т.д.).

2. **REST API для взаимодействия с индексами:**
   - Поднять API через Flask или FastAPI для работы с внешними запросами (индексация, поиск).

3. **Telegram-бот:**
   - Создание базового Telegram-бота, который принимает запросы и возвращает результаты поиска.

4. **Тестирование:**
   - Тест на взаимодействие API и бота с процессами индексации.

**Результат:**

- **Индексация Telegram-постов** с метаинформацией.
- **REST API** для управления и поиска индексов.
- Запуск **Telegram-бота** для работы с поисковыми запросами.

---

## **Спринт 4: Индексация изображений + прототип личных сообщений ВКонтакте и Telegram**

**Основной фокус**:
Добавляем поддержку **изображений** и запускаем индексацию мультимодальных данных (тексты, изображения). Начнем работать над личными сообщениями из ВКонтакте и Telegram.

**Цели:**

- Подключить к системе **индексацию изображений (через модели CLIP)**.
- Создать модуль-основу для индексации личных переписок ВКонтакте и Telegram (начальное извлечение данных).

**Задачи:**

1. **Модуль для изображений:**
   - Интеграция моделей для эмбеддингов изображений и их индексация в FAISS (аналогично текстовым документам).
   - Сохранение метаданных для изображений (ссылки, фильтрация по ключевым словам).

2. **UI для изображений:**
   - Апдейтим интерфейс приложения для работы с картинками: выбор изображения для индексации, отображение результатов.

3. **Интеграция личных сообщений (начало работы):**
   - API для ВК и Telegram для извлечения сообщений (создание гибкого бэкэнда для этой функции будет приоритетом).

**Результат:**

- **Индексация картинок готова**: поддержка поиска по изображениям через FAISS.
- Начат бэкэнд для обработки переписок из ВКонтакте и Telegram.

---

## **Спринт 5: Полная интеграция личных сообщений ВКонтакте и Telegram + оптимизация**

**Основной фокус**:
Завершаем интеграцию API ВКонтакте/Telegram для личных сообщений. Оптимизация системы перед финальными шагами и завершение всех модулей.

**Цели:**

- Полная интеграция личных сообщений ВКонтакте и Telegram: извлечение, индексация и поиск.
- Провести нагрузочные тесты и оптимизировать производительность системы.

**Задачи:**

1. **Индексация сообщений ВКонтакте:**
   - Завершение работы с API ВКонтакте для извлечения сообщений, их индексация и сохранение метаданных.

2. **Индексация переписок Telegram:**
   - Полная интеграция личных сообщений из Telegram.
   - Индексация и поиск с привязкой к источнику (чат/диалог).

3. **Оптимизация системы:**
   - Оптимизация скорости индексирования и поиска.
   - Провести нагрузочные тесты с большим объемом данных (документы, изображения, переписки).

4. **Тестирование API, поиск и bоты:**
   - Улучшение качества работы приложения, API и ботов на основе отзывов и тестов.

**Результат:**

- Полная интеграция сообщений из ВКонтакте и Telegram.
- Работающий поиск по мультимодальным данным (тексты, изображения, сообщения).
- Оптимизирована работа приложения (интерфейс, поиск, скорость).

---

## **Общий Вывод по Спринтам**

- **Спринт 1:** Фокус на текстах (документы). Создание базового приложения для Mac. Интеграция с FAISS и ClickHouse.
- **Спринт 2:** Улучшение UI и функции инкрементальной/автоматической индексации текстов.
- **Спринт 3:** Добавление постов из Telegram-каналов, расширенное API (REST, боты).
- **Спринт 4:** Полная работа с изображениями (индексация и поиск), начало работы с личными сообщениями ВКонтакте/Telegram.
- **Спринт 5:** Полная интеграция индексирования личных сообщений ВКонтакте и Telegram. Оптимизация приложения.
